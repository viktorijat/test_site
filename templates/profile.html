{% extends 'index.html' %}

{% block javascript %}

        $("#button_expense_detail_view").click(function(){

            $.ajax({

                url: '{% url "details" %}',
                type: 'POST',
                data: {'csrfmiddlewaretoken': '{{csrf_token}}'},
                dataType: 'json',
                async: true,
                success: function(data){
                    if (data.success){
                    alert(data.note);
                    window.location.href = "/detail_view/";
                    //alert(data.note);
                    }
                else{
                    alert("bad detail view");
                    }
                }
            });
        });

        $("#button_add_new_expense").click(function(){

            $.ajax({

                url: '{% url "add_new_expense_url" %}',
                type: 'POST',
                data: {'csrfmiddlewaretoken': '{{csrf_token}}'},
                dataType: 'json',
                success: function(data){
                    if (data.success){
                    window.location = "/add_new_expense/";
                    //alert(data.note);
                    }
                else{
                    alert("bad add expense");
                    }
                }
            });
        });

{% endblock %}


{% block body %}

<h1>{{ request.user }}</h1>


<div id="add_new_expense"><input type="button" id="button_add_new_expense" value="Add Expense"></div>

<div id="expense_detail_view"><input type="button" id="button_expense_detail_view" value="Detail View"></div>

<div id="average_day_spending_view" style="display: none;"><input type="button" id="average_day_spending" value="Average day spending"></div>

<div id='myname'><label id="my_name" visible="false"></label></div>

<div id='mypass'><label id="my_pass" visible="false"></label></div>



{% endblock %}

<div id="log_out"><input type="button" id="button_log_out" value="log out"></div>




